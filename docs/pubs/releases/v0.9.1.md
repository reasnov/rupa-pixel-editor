# Release Notes: v0.9.1 - The Master Blend Update

## 1. Executive Summary

**v0.9.1** focuses on professional precision and architectural integrity. We have completely reimagined the color blending process, replacing the outdated Gradient tool with a high-fidelity **Dither Blend** system. The export engine has been promoted to **Service Grade**, supporting multi-frame selection and ZIP bundling. This update also brings critical stability fixes to the timeline and UI consistency.

---

## 2. Key Features & Enhancements

### 2.1 Aroma Blend (Professional Dithering)

The legacy Gradient tool has been retired in favor of **Aroma Blend**, a dither-based blending mode integrated directly into the brush engine.

- **Ordered Dithering:** Utilizes a **4x4 Bayer Matrix** to create mathematically perfect checkerboard patterns.
- **Frothiness Control:** A new **Hardness** slider allows baristas to control the density of the blend, enabling smooth transitions that maintain pixel-art purity.
- **Shortcut:** Quick-toggle with **`Alt + G`**.

### 2.2 Chronos Export (Advanced Artifact Service)

The export engine is now more flexible and informative.

- **Tabbed Interface:** Separated "Static Art" (Images) and "Animated Brews" (Video/GIF) for clarity.
- **Frame Selection:** Choose to export the **Active Cup**, **Visible Cups**, **Selected Cups**, or the **Whole Store**.
- **ZIP Strategy:** Automatically bundles multiple static frames into a single `.zip` file using `JSZip`.
- **Progress Tracking:** Real-time progress bar (0-100%) for long rendering or bundling tasks.
- **Interrupt Protection:** Prevents closing the window during active rendering to ensure data integrity.

### 2.3 Precision Timeline & Ruler

- **Adaptive Ruler:** The timeline ruler now displays accurate **Seconds** and sub-seconds (0.1s, 0.2s, etc.) based on zoom level.
- **Unified Scrolling:** Refactored the timeline architecture to provide stable horizontal and vertical scrolling with a sticky layer sidebar.
- **Project-Level Rhythm:** Moved **FPS** settings from the Studio to the **Project State**, ensuring each recipe remembers its unique pace.
- **Minimized Control:** All playback and pace controls remain visible even when the timeline panel is minimized.

---

## 3. UI/UX Refinements

- **Standardized Elements:** All sliders and number inputs now follow a modern, unified "Barista" aesthetic.
- **Unified Explorer:** The **Frames** and **Layers** lists now share identical UI patterns for visibility, settings, and deletion.
- **i18n Standardization:** Export and Color Picker keys have been refactored to follow industry-standard hierarchical naming conventions.

---

## 4. Technical Fixes

- **Error 500 Resolution:** Fixed a critical ReferenceError caused by reactivity initialization order in the Timeline View.
- **Playback Consistency:** Fixed an issue where animations played at maximum speed regardless of the FPS setting.
- **Memory Safety:** Implemented `setTimeout(0)` yielding in heavy loops (SVG optimization, Video assembly) to prevent UI thread blocking.
- **Test Integrity:** Updated `project.test.ts` to match the current architectural state.

---

## 5. Blueprint Alignment

- Updated **Blueprint 02** (Palette & Export).
- Updated **Blueprint 09** (Advanced Tools) to reflect the removal of Gradient Fill and the addition of Dither Blending.
