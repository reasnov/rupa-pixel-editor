@import 'tailwindcss';

@font-face {
	font-family: 'Zen Maru Gothic';
	src: url('/fonts/ZenMaruGothic-Regular.ttf') format('truetype');
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'Courier Prime';
	src: url('/fonts/CourierPrime-Regular.ttf') format('truetype');
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'Tiny5';
	src: url('/fonts/Tiny5-Regular.ttf') format('truetype');
	font-weight: normal;
	font-style: normal;
}

@theme {
	/* The Nature Sanctuary Palette (Base) */
	--color-washi-white: #e8e3d0;
	--color-rice-straw: #f4f1bb;
	--color-bamboo-shoot: #d1e0d0;
	--color-sage-leaf: #a3b18a;
	--color-fern-green: #588157;
	--color-deep-forest: #3a5a40;
	--color-evergreen: #344e41;
	--color-stone-path: #dad7cd;
	--color-mist-gray: #8d99ae;
	--color-night-indigo: #2b2d42;

	/* The Craft Atelier Palette (Base) */
	--color-lantern-gold: #b58900;
	--color-rust-clay: #cb4b16;
	--color-sakura-pink: #e5989b;
	--color-ume-plum: #6d597a;
	--color-aged-oak: #b08968;
	--color-dark-walnut: #7f5539;
	--color-morning-amber: #d4a373;
	--color-matcha-dust: #ccd5ae;
	--color-river-stone: #6b705c;
	--color-forest-shadow: #333d29;

	/* Functional Aliases (Default: Light Mode) */
	--color-canvas-bg: #e8e3d0;
	--color-text-main: #344e41;
	--color-panel-bg: rgba(232, 227, 208, 0.95);
	--color-grid-border: #dad7cd;
	--color-ui-accent: #b58900;
	--color-ui-danger: #cb4b16;
	--color-ui-wood-outer: #b08968;
	--color-ui-structural: #7f5539;
	--color-ui-highlight: #f4f1bb;
	--color-sidebar-bg: #d1e0d0;

	--grain-opacity: 0.03;
}

/* Midnight Sanctuary (Dark Mode Override) */
:root[data-theme='dark'] {
	--color-canvas-bg: #121412;
	--color-text-main: #e0e5e0;
	--color-panel-bg: rgba(18, 20, 18, 0.95);
	--color-grid-border: #2a302a;
	--color-ui-accent: #ffc107;
	--color-ui-danger: #ff5722;
	--color-ui-wood-outer: #3e2c26;
	--color-ui-structural: #261a1a;
	--color-ui-highlight: #2d332d;
	--color-sidebar-bg: #1e241e;

	--grain-opacity: 0.015;
}

:root {
	background-color: var(--color-canvas-bg);
	color: var(--color-text-main);
	font-family: 'Courier Prime', monospace;
	--font-heading: 'Zen Maru Gothic', sans-serif;
	transition:
		background-color 0.3s ease,
		color 0.3s ease;
}

h1,
h2,
h3,
.font-serif {
	font-family: var(--font-heading);
}

.font-tiny5 {
	font-family: 'Tiny5', system-ui;
}

body {
	margin: 0;
	padding: 0;
	overflow: hidden;
	height: 100vh;
	width: 100vw;
	background-color: var(--color-canvas-bg);
	pointer-events: auto;
}

/* CRT & Retro Filters Overlay */
.crt-overlay {
	position: fixed;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	background:
		linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.03) 50%),
		linear-gradient(90deg, rgba(255, 0, 0, 0.01), rgba(0, 255, 0, 0.005), rgba(0, 0, 255, 0.01));
	background-size:
		100% 3px,
		2px 100%;
	z-index: 5000;
	pointer-events: none;
	opacity: 0.8;
}

canvas,
.pixel-grid {
	image-rendering: pixelated;
}

/* Redesigned Wooden Panels */
.editor-panel {
	background: var(--color-panel-bg);
	border: 2px solid var(--color-ui-structural);
	box-shadow:
		inset 0 0 15px rgba(0, 0, 0, 0.05),
		4px 4px 0px var(--color-ui-structural);
	border-radius: 4px;
	color: var(--color-text-main);
}

.side-panel-left {
	border-right: 2px solid var(--color-ui-structural);
	background: var(--color-canvas-bg);
}

.side-panel-right {
	border-left: 2px solid var(--color-ui-structural);
	background: var(--color-canvas-bg);
}

.bottom-panel {
	border-top: 2px solid var(--color-ui-structural);
	background: var(--color-canvas-bg);
}

.hud-panel {
	background: var(--color-canvas-bg);
	color: var(--color-text-main);
	border-bottom: 2px solid var(--color-ui-structural);
}

/* The Washi Frame (The Canvas) */
.editor-frame {
	background: var(--color-canvas-bg);
	border: 12px solid var(--color-ui-wood-outer);
	outline: 2px solid var(--color-ui-structural);
	border-radius: 2px;
	box-shadow:
		0 20px 50px rgba(0, 0, 0, 0.2),
		inset 0 0 20px rgba(0, 0, 0, 0.05);
	position: relative;
}

/* 
	Retro Pixel Grid 
*/
.pixel-grid-surface {
	--grid-line-color: var(--color-grid-border);
	opacity: 0.4;

	background-image:
		linear-gradient(var(--grid-line-color) 1px, transparent 1px),
		linear-gradient(90deg, var(--grid-line-color) 1px, transparent 1px);

	background-size: calc(100% / var(--grid-cols)) calc(100% / var(--grid-rows));
	background-repeat: repeat;
}

.editor-checker-small {
	background-image:
		linear-gradient(45deg, rgba(0, 0, 0, 0.03) 25%, transparent 25%),
		linear-gradient(-45deg, rgba(0, 0, 0, 0.03) 25%, transparent 25%),
		linear-gradient(45deg, transparent 75%, rgba(0, 0, 0, 0.03) 75%),
		linear-gradient(-45deg, transparent 75%, rgba(0, 0, 0, 0.03) 75%);
	background-size: 8px 8px;
}

.status-tag {
	background: var(--color-canvas-bg);
	padding: 4px 12px;
	border-radius: 2px;
	font-size: 10px;
	color: var(--color-text-main);
	text-transform: uppercase;
	letter-spacing: 0.1em;
	border: 1px solid var(--color-ui-structural);
	box-shadow: 2px 2px 0px var(--color-ui-structural);
}

/* Clicky Retro Buttons */
.editor-tool-btn {
	background: var(--color-canvas-bg);
	border: 1px solid var(--color-ui-structural);
	color: var(--color-text-main);
	padding: 6px 12px;
	border-radius: 4px;
	font-family: var(--font-heading);
	font-weight: 700;
	font-size: 12px;
	transition: all 0.1s steps(2);
	display: flex;
	align-items: center;
	gap: 6px;
	box-shadow: 2px 2px 0px var(--color-ui-structural);
}

.editor-tool-btn:hover {
	background: var(--color-ui-accent);
	color: white;
	transform: translate(-1px, -1px);
	box-shadow: 3px 3px 0px var(--color-ui-structural);
}

.editor-tool-btn:active {
	transform: translate(1px, 1px);
	box-shadow: 0px 0px 0px var(--color-ui-structural);
}

.editor-primary-btn {
	background: var(--color-ui-accent);
	color: white;
	padding: 12px 24px;
	border-radius: 4px;
	font-family: 'Tiny5', system-ui;
	text-transform: uppercase;
	letter-spacing: 0.15em;
	transition: all 0.1s steps(2);
	border: 2px solid var(--color-ui-structural);
	box-shadow: 4px 4px 0px var(--color-ui-structural);
}

.editor-secondary-btn {
	background: var(--color-canvas-bg);
	color: var(--color-text-main);
	padding: 12px 24px;
	border-radius: 4px;
	font-family: var(--font-heading);
	font-weight: 700;
	transition: all 0.1s steps(2);
	border: 2px solid var(--color-ui-structural);
	box-shadow: 4px 4px 0px var(--color-ui-structural);
}

.editor-secondary-btn:hover {
	background: var(--color-ui-highlight);
	transform: translate(-1px, -1px);
}

/* VFX: Accent Glow Pulse */
@keyframes accent-pulse {
	0% {
		box-shadow:
			0 0 10px rgba(181, 137, 0, 0.2),
			2px 2px 0px var(--color-ui-structural);
	}
	50% {
		box-shadow:
			0 0 20px rgba(181, 137, 0, 0.5),
			2px 2px 0px var(--color-ui-structural);
	}
	100% {
		box-shadow:
			0 0 10px rgba(181, 137, 0, 0.2),
			2px 2px 0px var(--color-ui-structural);
	}
}

.is-active.tool-button,
.is-active-pigment {
	animation: accent-pulse 3s infinite ease-in-out;
}

/* Global Custom Scrollbar */
.custom-scrollbar::-webkit-scrollbar {
	width: 10px;
	height: 10px;
}

.custom-scrollbar::-webkit-scrollbar-track {
	background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
	background: rgba(52, 78, 65, 0.15);
	border-radius: 10px;
}

:root[data-theme='dark'] .custom-scrollbar::-webkit-scrollbar-thumb {
	background: rgba(224, 229, 224, 0.1);
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
	background: rgba(52, 78, 65, 0.3);
}
